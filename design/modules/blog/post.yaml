type:
  name: post

  owned:
    name: author
    type: has-many

  visibility:
    enabled: true
    default: false
    public: published
    private: draft

  fields:
  - name: title
    type: string
    length: 128
  - name: content
    type: text

  relations:
  - name: comments
    type: type.modules.blog.comment
    relation: one-to-many
  - name: tags
    type: type.modules.blog.tag
    relation: many-to-many

  auth:
    view:
      public: ['user']
      private: ['admin']
    create: ['user']
    delete: ['admin']

  pages:
    create:
      route: "/post/new"

    list:
      route: "/posts"
      style: "design/modules/blog/pages/post/list/style.scss"
      custom: true
      files:
        - "design/modules/blog/pages/post/list/content.html"

    view:
      route: "/post/:id"
      style: "design/modules/blog/pages/post/view/style.scss"
      custom: true
      files:
        - "design/modules/blog/pages/post/view/content.html"

    update:
      route: "/post/edit/:id"
      style: "design/modules/blog/pages/post/update/style.scss"
